version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: 7ivqdj.6iod0osis8odhmcl
  ca:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJQakNCOGFBREFnRUNBaEJuM3p6TklscXVxYUR4VVRpWHhkZEFNQVVHQXl0bGNEQVFNUTR3REFZRFZRUUsKRXdWMFlXeHZjekFlRncweU5ERXlNamN4TnpJM01qQmFGdzB6TkRFeU1qVXhOekkzTWpCYU1CQXhEakFNQmdOVgpCQW9UQlhSaGJHOXpNQ293QlFZREsyVndBeUVBakQvVEwzRXN3Yy9nc054YTBiWnRlM3lqSUdJK3F3U1VuclQ4CklVNkNveHlqWVRCZk1BNEdBMVVkRHdFQi93UUVBd0lDaERBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFRWUkKS3dZQkJRVUhBd0l3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFkQmdOVkhRNEVGZ1FVNWxrdk4wWll1WVFhSEtPTwptQllGVDh4UmtKOHdCUVlESzJWd0EwRUFPbC83VE9XaFVQZU1UR3d0SWVZUlEvNzhVelVuVFVnUFhOSFJVUEZZClFkRnhzVVc2Tm1ZcVBJaUZNMlJhNDJCUjc2dzJ3N2RTQ2owdVFXS0dQb0FZREE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0KTUM0Q0FRQXdCUVlESzJWd0JDSUVJQXltYks1YTlUaGlxRndSTVh4ZzE2NmNIWU1odzV6aG01a05lTWcrQXdjcAotLS0tLUVORCBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0K
  certSANs:
    - 192.168.5.60
    - 127.0.0.1
  kubelet:
    image: ghcr.io/siderolabs/kubelet:v1.32.0
    extraArgs:
      rotate-server-certificates: "true"
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.5.0/24
    disableManifestsDirectory: true
  network:
    hostname: talos-controller-1
    interfaces:
      - deviceSelector:
          hardwareAddr: bc:24:11:88:98:a1
        addresses:
          - 192.168.5.61/24
        routes:
          - network: 0.0.0.0/0
            gateway: 192.168.5.1
        mtu: 1500
        dhcp: false
        vip:
          ip: 192.168.5.60
    nameservers:
      - 1.1.1.1
      - 1.0.0.1
    disableSearchDomain: true
  install:
    disk: /dev/sda
    image: factory.talos.dev/installer/ce4c980550dd2ab1b17bbf2b08801c7eb59418eafe8f279833297925d67c7515:v1.9.1
    wipe: false
  files:
    - content: |-
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
      permissions: 0o0
      path: /etc/cri/conf.d/20-customization.part
      op: create
  time:
    disabled: false
    servers:
      - 162.159.200.1
      - 162.159.200.123
  sysctls:
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "1048576"
    net.core.rmem_max: "7500000"
    net.core.wmem_max: "7500000"
    vm.nr_hugepages: "1024"
  features:
    rbac: true
    stableHostname: true
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: true
      resolveMemberNames: true
  nodeLabels:
    node.kubernetes.io/exclude-from-external-load-balancers: ""
cluster:
  id: CZMVt1Zw2QS1FqFVCdBpl1aB40THvr_yncL6OZGXBlg=
  secret: HNGLALKcu91fux6wAQRqE7ESp902bDqlka4BcBpRZbw=
  controlPlane:
    endpoint: https://192.168.5.60:6443
  clusterName: home-kubernetes
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.69.0.0/16
    serviceSubnets:
      - 10.96.0.0/16
  token: jaulwn.5rpua541lib1t7vj
  secretboxEncryptionSecret: dU7BzqKouL0kHVDEPqyBgBbZg9RqGGvobMZ592jyFLI=
  ca:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJpVENDQVMrZ0F3SUJBZ0lRQkp3eDhPYXlEdDlTOHZHelVSaVIwekFLQmdncWhrak9QUVFEQWpBVk1STXcKRVFZRFZRUUtFd3ByZFdKbGNtNWxkR1Z6TUI0WERUSTBNVEl5TnpFM01qY3hPVm9YRFRNME1USXlOVEUzTWpjeApPVm93RlRFVE1CRUdBMVVFQ2hNS2EzVmlaWEp1WlhSbGN6QlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDlBd0VICkEwSUFCSUtDSjAvbDJsR2tCRVA3ZWZraThHNnUwdDVzeUdoeGxBUWtMTm43UWN1RGpobEcwWHp1QitlWnkrMWgKOEJjNkhJQTgxS0tXZ0F4cmlCdVVwOFprZkJtallUQmZNQTRHQTFVZER3RUIvd1FFQXdJQ2hEQWRCZ05WSFNVRQpGakFVQmdnckJnRUZCUWNEQVFZSUt3WUJCUVVIQXdJd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZEJnTlZIUTRFCkZnUVVYRzN2eFVTekFrUmxjWUZxOUhrWHMvUjZHLzh3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUlnQ0Q1eTA4R2sKMWsyNlJCS1dRcmtQaGFXWWdEbmlicFhIME0za0lUbzJud2tDSVFEQ2JLQmRKTEdHa2lFeDBGd2N3VTNPcWg0VwpoUm5LOCtCUjhhM0twVm9Sanc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSU5XU2ExTnhOZ1FWeHFURDdrNEIwZHN3bFZwaGN3N2s3TmRiODZqVVdCN0NvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFZ29JblQrWGFVYVFFUS90NStTTHdicTdTM216SWFIR1VCQ1FzMmZ0Qnk0T09HVWJSZk80SAo1NW5MN1dId0Z6b2NnRHpVb3BhQURHdUlHNVNueG1SOEdRPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
  aggregatorCA:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJYakNDQVFXZ0F3SUJBZ0lRWW9Ob0pDUklOcjNqelk3cjdhKzBKREFLQmdncWhrak9QUVFEQWpBQU1CNFgKRFRJME1USXlOekUzTWpjeE9Wb1hEVE0wTVRJeU5URTNNamN4T1Zvd0FEQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxRwpTTTQ5QXdFSEEwSUFCSmRrdDgxUFpVNDBzVVVEQVZEWDNTUmw5T3R4L2YvSWVscWZXSGZ4Vk55dldXK3VBWjJjCkhwa1lrbDF5b2swbnpiTGRnank4cDBKNjZzenozZFhPczN5allUQmZNQTRHQTFVZER3RUIvd1FFQXdJQ2hEQWQKQmdOVkhTVUVGakFVQmdnckJnRUZCUWNEQVFZSUt3WUJCUVVIQXdJd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZApCZ05WSFE0RUZnUVU3cDQ3R1UvL0NYV3ZOV0FlVHJQc2NPbkNCVDR3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnClhGR2tRaXhySHg3NUl4SEpsdFFvdkpLQzFRZmZ1MVFhYXFyZE9DUEtDVmdDSUEvTWd0WlJ0dTEvYWdJOURFc0YKVmplRXNiaTh3TmhNZEVBV2FaY1gvNFViCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUhtcUxxMDlHMDRiSVovSEpuSE5BYW1raXhTYlE4WEkwZkN4ZGVpR0tZa3VvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFbDJTM3pVOWxUalN4UlFNQlVOZmRKR1gwNjNIOS84aDZXcDlZZC9GVTNLOVpiNjRCblp3ZQptUmlTWFhLaVRTZk5zdDJDUEx5blFucnF6UFBkMWM2emZBPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
  serviceAccount:
    key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS1FJQkFBS0NBZ0VBelFUYklrWGJFZFR5ZEpBWVZiMUhOUm00RFRzL2NQRlJxdmtEVFhnSG5VOFpOdkxoCkw1a1AvWG0rTG82cjk3UFZzekVWNGpTK1FiMC9CblhWbkd6Z1FEVVo3U1lPZWtpdVp6T2VHL0Y5QVNkRkZIVUUKNW5SZ1Z4OWRoZ1FpaldXUDI2TkZVMWxFWXVmS0l3WE1EYitMNGFUZ2E4djZJcU9oTGF6UUIva21VcXQ2YWNzTgp6MjhvTkRaOFpwYlJZVDRYTUFPTGlKWi9oUi9xVTdGRTVhbms5M2U3QlJac05mYnFweUpOM2Rsbm4yaWgwUWc0CkNlU1JtTnlHZkk1eFQ5OFc1ZmZGU2RQTDEwNVBVbFdxbERUcFZ6UkFac2FsNmh1STRkek5kZ1FlM2VJdEFtb0MKMmF5VWx3NlhxRlZDR2ZoRzBoWWFLRWNiN1kwK21BditHS3RhT3FxbEQxTWdESVo0a3E2elZ3YmpiNE4yZkVRTApRbWVLMlJpVzV4QjBjbnVpVnpKN2pXcFBKL3pvb0ZROFJPcGw1ZEorVUw3b05zMnVuVEdGMWhZS1ZoeEx0S1RTCmttTHFSWFlmZUVpQ09LRXViNnV4L3JvTC8vNW5BQWNqWDdZdENRZDZ4bExYUksrbUJyTmx3N3JBSGVjbzRJZEUKVTVnNHlCZTBVd2lDTTIrYXdpMGJjRE1CMTJkRUtlcDZzQVBNUDRqKzN0bWJ4aEpManpEZ2lnazhUTlh5aldvdAo0eGxVUXRkV1Y0MStFc0o1RUJVeThjeFVxK3RmdWZvQmhGWHF3SDhpMVp1bjQ1QnZuSjB6aEJvTGJUQzRpQnpVCnAyWS9PRDNJc0VXbWFrNVJzdk9yTjlVSk8rSWtKQ0ZYakc4T2xQQ2tZTjBnNzJvaWpIVHIvWUdtMzhzQ0F3RUEKQVFLQ0FnQW96SmlYUDNPVEh0K0pGc3ZnOUNQaGkxYTNPMTBxcXJ0bjNOb3RabitOYkpwRjl4dWREMGJCV0tMaQpQUDQzOHcvSjh6QzVyV2xYUjhQdEV6SUpTUmx2YmFIVk1jZWJ5aTc2MXFqV1FyNXZwbEwyK1RxYWFmcHFIQkhPCmc3QWtsMXVEaUFCWno5L3VGdGFCRmJ3LzJDaU1KUFdNUGpGdkIwVWlBOHY2YWppWUp3dmJWYzlQd24wcnR0UVcKemxpb2syU2w1MjZ6SmRBR3ZBMHp6b2s1Y3cvZnQzSCtWekg5b3orYk54WnIyY0huVlRrdWtnWWs0ZG1mby9NWApnbmxHUGMwZXdxbitRU25GbFEzd0FxQkpraVlGZHA2Q1ZYSGJIdE9rcnY0c1NER2tVa2hHdkxZSWYzR3FoZnJrClF1TStxOHZjTHczUmlpVWlwd01YMnZzY0NhMlF0L0NXSzJkcG9ncEI5WVNNQmNRa25xbUJNUzdINklWSXBkZGcKNmJwZEFBd29GZEJQdGR4bUtLeStnQVhlVzd4cVBTd3JldDA4bEZLUSs2NS8xNVdLTkRkRG5lTkdidzN3T01UTQpUaHJCVHRQanp3dDBmZVJLNWtnbGpOTVhvNjlJQndsNm1uSmRJSk5LbkJKWktCMXN1STNwZ1plbTlya2N6WFZHCnIxUjM1SFFrbWJrOHgvV0dQcjRDMFg3SUljVHkvcGQvYUNWRlNmWDFJcUtlbDQyVU4wV1JJVExQa1dGTTVjR3UKVytTSkpGSVBBWEpxalIvdGQyYTdNckVuV1ZZTDFiZ0RWa3ROZzkwK2dwOXR2RTFBa2F4aTYrOXoxTTlpMkswVQpjU1Yrdk1Dbk01dWZmck4vMlhpbmxPNG9KNVprUW9SVHZjamw5TGFGZ013OEk0cENZUUtDQVFFQTJxQ0RTSndGCnhNTFFzd2kwY216T2g4bXo5TmlxU3lEZXB0cnFWeVUwTUJENW5EdXREWUp1R1NIRVNYc1ZxOTQ5SDYxdi9pTFoKN0xFdzN1UU1rL0xyQzZRVjhHbTZKbHNmUVVOYVRUbklCUjNSWkd3SE9WZmhQLzYveEJPZnY5aEUraHhMbHFpYQprN1FzZURXNERPQkpURjdyOE1PQStqT3A3MzRIWXMwK0dod1dQSUZsM3NXOHJRakxxQWU0a1FzNjJveG5WWk1zCk9uUFExTTBua2dnRmErSDVYWUVqTEQ5MHJjRnpYdEpVRkdCdjVIYm5VSCtGS2ljMXQ4UlpCTldWZDQyb25iMkoKZDRtUllqTDNVRWFHcGczV01wUWt5NklWZStyVHVBTG1wWENGU2N3dGFkVVhUUjZzWXp4V05nWkV4eUpIaUxhSwpqcmxtRE41SE9veEN3d0tDQVFFQThCRFZJNlllL1U0eUc1SzhjZFcwSUFaek9Xajc2d0VaQ3hNZjZwZWUwbTlUCms2YVZpS1lFZjJxS216ZE53VnhsdTVvRm9wRlJZbzZ3eUpLUWdSVTVWSXE2d0YyY1VwMWY4TmhuNHVJUkxxRkYKVFV0UW9YZnNJUlNzckVLQVJWYkdERkdjSlJsdk5EeXhuS1ZjN3dmbGNsZElRWWJSZUs4eEczMnozV1FhUWVlTQpPT0RrQjNyVmx0c0p5VmkvN1V1cGFvV0J4Ti9Jc1ZoODA2amt1RFkxQm1TOU4wVktXR1VmRFUzOVVNNitFd3NzCmJjcXZJODZwaVI0Vm1qVnZReWgxdmVZYXhTemx5dlQrWlZLL3ErbnhXOUJBeEk2alF1TlYzcVRnWldhV3A5VGsKUHhMcTk0ZmVjdHR3OVlzZFRKSjIyanczQzdLWUdKcXdhVEo2YWY4T1dRS0NBUUVBeUFGOStRZ2JVdVR5cmtieApaWmphM0dpUFJCaU91Z3BKQnBaUk9nWWtGekVBV1loU2lZQmdIb2ZBbllTSHorS1JRcENWV3dZaEhhTUFWWGlGCmRUZ1BCV2hJVmRjelgvR094MUxKb3NxUWpQVzVZTWhmVjN0bzZ2V3dFNzNzTUVLMjM2VFJGZlFLN2NNdng0MUYKWWlveGhEZDJXNTFQT2hYWGlleGU3MmxhUGVLaUNScEx5cUJWT210SWZPRUxYVTNMdXJJbHVxallGbVZyajdKYgpXQUlVaTV5QVY2VlRPeUNXS250R2cyR2hYNzdWdmtsMDFqVEM2MHhSblZ0NElLOFFmUDNRV3ZaUmMxVWI5cDB2Cm1YWGJxc0FQeTlleFRjVnJLQ0V0TFRNaU5BbWJObWNleUtvVUZnNVFvTHhMRmtObjJsRW01aEF3ODk3eVdDVmwKUGsrZ3B3S0NBUUVBdkFrak9YSVVFZXFlMnZRYmdMcVlCUUdvWFE1N1MvNm5KQUtOM0UxNGpISEFzQVVxV1VkWQpmSWp5R2xPK0pyZDl3KzBIZnVkK0xNbUJkUWxBQUt1a0pURW95Q1pLbkhkQ1A3N3gyRWVrbDdhZ05zUElXMEU0CmhrelFWM2tiU2JTSEdmME9aZ3kvQ3RhRGRDUWVYK2Y2YzQ0a1BaY2hHZnQzWm9ZV1RWSHNNelR2bzFtYm9yUTIKK3B1RTFkNGJMdjQxckFiNHQwRmx6R3Q0RXIzV3NPZGNyeTVXK3lUZDc5RDgrb25jNGQrZUNBS1hnVVBoM1JVeAp2QUlCZjdGYy9laUNHUVZVY0o4VE90NmRLTFloQmNJUFdCQU51eWZTZjBEYjhMR0tSa0tOdk5YSEZoUjJVUDV1CllkNjZZc25kWUMzVXhHbW40QlM2aDRNYXJMdHFJUDR6dVFLQ0FRQkd2VGZRdzlXSmc5NHNyNWw1N1lXeUhKSXIKdldFU0tLbEZDTkdXMHYvY2VqVVJ1TkhyZ1RBMktEdHViS0R3c0RFcG12bktoQnh6UnJZaGpuRlZTTC9kY01BcwpVa3VpTFdicTlDbk9JNHkxbzRyckxYcUttWTlIc0lrelBhMjRXcU1uQ1JyUHJIY2J2WllucWdkaE82WW0reWloCmhZQ0gvRldZL1huMVkyWktqNUtWalZ4d3hQRjZhb292UFpPSnJRdE1SN2xtb1dUakZjaHBxWnZBZTh1cnpXdysKOFlMaDd6NnR4SUR0YUNuV1RkSWc1akxqYVB6eGxIZTczd21JY01KYkFwNkNFbkViTy94cWtYdFR1M0dmUjFHMQoyY0NQYjFQRmQ4ekEwRTQ2am1NbTZCaUcxYmpLTkFkM1VzczJGcHJ3Y0tTVktqV2ZCRURwSmpoR2FIbTIKLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K
  apiServer:
    image: registry.k8s.io/kube-apiserver:v1.32.0
    extraArgs:
      feature-gates: AuthorizeNodeWithSelectors=false
    certSANs:
      - 192.168.5.60
      - 192.168.5.60
      - 127.0.0.1
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:v1.32.0
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
    image: registry.k8s.io/kube-proxy:v1.32.0
  scheduler:
    image: registry.k8s.io/kube-scheduler:v1.32.0
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - pluginConfig:
            - args:
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
                defaultingType: List
              name: PodTopologySpread
          schedulerName: default-scheduler
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJmVENDQVNPZ0F3SUJBZ0lRQStySnEyUTZRUEFSdnA0U2xHZDViVEFLQmdncWhrak9QUVFEQWpBUE1RMHcKQ3dZRFZRUUtFd1JsZEdOa01CNFhEVEkwTVRJeU56RTNNamN4T1ZvWERUTTBNVEl5TlRFM01qY3hPVm93RHpFTgpNQXNHQTFVRUNoTUVaWFJqWkRCWk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQlBpTEpyQTFJSVFoCkNFeEI1YllGV2tpZmZodzE4ZzJTSmlxdnM1VVVDYTBMYVFUazUwSVE1c09UQ0ZhOXNsT2o0TUtVL3pnMER5TWEKT0tHVGJtZWJOL21qWVRCZk1BNEdBMVVkRHdFQi93UUVBd0lDaERBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjRApBUVlJS3dZQkJRVUhBd0l3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFkQmdOVkhRNEVGZ1FVM2szU3U1YkRGdEFiCmNHbzJHSXI4WHdPNnNKc3dDZ1lJS29aSXpqMEVBd0lEU0FBd1JRSWdlaVp2QTY1bDFWSVFmR2NQUTlhNmpFUlEKSVZobnpSQ1VSL1F3eDBSRkhRd0NJUUQvQkxvN09GWVpvZWF5bVR1a0lzR0VyWEJ6Z05CckVrbUQ2ZlpSVEdKSgp4UT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
      key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUlYekpVeDFWa3dUNlBRaDB6aXlmMEpDcVllemt0WWx3bkNUTWswM3FnVlFvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFK0lzbXNEVWdoQ0VJVEVIbHRnVmFTSjkrSERYeURaSW1LcSt6bFJRSnJRdHBCT1RuUWhEbQp3NU1JVnIyeVU2UGd3cFQvT0RRUEl4bzRvWk51WjVzMytRPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.5.0/24
  coreDNS:
    disabled: true
  allowSchedulingOnControlPlanes: true
